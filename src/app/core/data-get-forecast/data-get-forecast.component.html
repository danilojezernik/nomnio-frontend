<!-- Angular container to check if weatherForecastData$ is available and assign it to forecastData START -->

<ng-container *ngIf="weatherForecastData$ | async as forecastData; else loadingData">

  <ng-container *ngIf="forecastData.length > 0">
    <!-- Loop through each forecast in forecastData START -->
    <div *ngFor="let forecast of forecastData">

      <!-- Display forecast date with dateTransform pipe -->
      <p>{{ forecast.dt | dateTransform }}</p>

      <!-- Display forecast temperature in Celsius -->
      <p>{{ forecast.main.temp }}Â°C</p>

      <!-- Display forecast weather description -->
      <p>{{ forecast.weather[0].description | translate }}</p>

      <!-- Display forecast weather icon if available START -->
      <img *ngIf="forecast.weather && forecast.weather[0].icon"
           [src]="'assets/media/weather/' + forecast.weather[0].icon + '.png'"
           [alt]="forecast.weather[0].description">
      <!-- Display forecast weather icon if available END -->

    </div>
    <!-- Loop through each forecast in forecastData END -->
  </ng-container>

  <!-- Display error message if forecastData is empty START -->
  <ng-container *ngIf="forecastData.length === 0" class="error-container">
    <span class="error-message">
      {{ errorMessage }}
    </span>
  </ng-container>
  <!-- Display error message if forecastData is empty END -->

</ng-container>
<!-- Angular container to check if weatherForecastData$ is available and assign it to forecastData END -->

<!-- Display spinner while data is loading START -->
<ng-template #loadingData>
  <app-spinner *ngIf="spinner"></app-spinner>
</ng-template>
<!-- Display spinner while data is loading END -->
